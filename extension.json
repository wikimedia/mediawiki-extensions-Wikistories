{
	"name": "Wikistories",
	"namemsg": "wikistories-extensionname",
	"descriptionmsg": "wikistories-extensiondesc",
	"requires": {
		"MediaWiki": ">= 1.38.0"
	},
	"AutoloadNamespaces": {
		"MediaWiki\\Extension\\Wikistories\\": "includes/"
	},
	"TestAutoloadNamespaces": {
		"MediaWiki\\Extension\\Wikistories\\Tests\\": "tests/phpunit/"
	},
	"ContentHandlers": {
		"story": {
			"class": "MediaWiki\\Extension\\Wikistories\\StoryContentHandler",
			"services": [
				"Wikistories.StoryConverter",
				"Wikistories.StoryValidator",
				"Wikistories.Cache",
				"Wikistories.StoryRenderer"
			]
		}
	},
	"SpecialPages": {
		"StoryBuilder": "MediaWiki\\Extension\\Wikistories\\SpecialStoryBuilder"
	},
	"Hooks": {
		"BeforePageDisplayMobile": "MediaWiki\\Extension\\Wikistories\\Hooks::onBeforePageDisplayMobile",
		"LoginFormValidErrorMessages": "MediaWiki\\Extension\\Wikistories\\Hooks::onLoginFormValidErrorMessages"
	},
	"ServiceWiringFiles": [
		"includes/ServiceWiring.php"
	],
	"ExtensionMessagesFiles": {
		"WikistoriesAliasSpecial": "Wikistories.alias.special.php"
	},
	"MessagesDirs": {
		"Wikistories": [ "i18n", "i18n/api" ]
	},
	"config": {
		"WikistoriesMinFrames": {
			"description": "Minimum number of frames a story needs to have to be valid.",
			"value": 2
		},
		"WikistoriesMaxFrames": {
			"description": "Maximum number of frames a story needs to have to be valid.",
			"value": 10
		},
		"WikistoriesMaxTextLength": {
			"description": "Maximum number of characters a story frame can have.",
			"value": 1000
		}
	},
	"namespaces": [
		{
			"id": 1704,
			"constant": "NS_STORY",
			"name": "Story",
			"content": true,
			"defaultcontentmodel": "story",
			"protection": "edit-story"
		},
		{
			"id": 1705,
			"constant": "NS_STORY_TALK",
			"name": "StoryTalk",
			"content": true,
			"defaultcontentmodel": "wikitext"
		}
	],
	"AvailableRights": [
		"edit-story"
	],
	"GroupPermissions": {
		"user": {
			"edit-story": true
		}
	},
	"ResourceFileModulePaths": {
		"localBasePath": "resources",
		"remoteExtPath": "Wikistories/resources"
	},
	"ResourceModules": {
		"mw.ext.story.viewer-nojs": {
			"targets": [ "desktop", "mobile" ],
			"styles": [
				"mw.ext.wikistories.viewer-nojs/viewer-nojs.less"
			]
		},
		"mw.ext.story.viewer": {
			"targets": [ "desktop", "mobile" ],
			"packageFiles": [
				"mw.ext.wikistories.viewer/index.js",
				"mw.ext.wikistories.viewer/StoryViewer.vue",
				"mw.ext.wikistories.viewer/components/ImageAttribution.vue",
				"mw.ext.wikistories.viewer/store/index.js",
				"mw.ext.wikistories.viewer/store/story.js"
			],
			"styles": [
				"mw.ext.wikistories.viewer/viewer.less"
			],
			"dependencies": [ "vue", "vuex" ],
			"messages": [
				"wikistories-storyviewer-next-story-button",
				"wikistories-imageattribution-author-unknown"
			]
		},
		"mw.ext.story.builder.styles": {
			"targets": [ "desktop", "mobile" ],
			"styles": [
				"mw.ext.wikistories.builder/builder.less"
			],
			"skinStyles": {
				"minerva": [
					"mw.ext.wikistories.builder/builder.minerva.less"
				]
			}
		},
		"mw.ext.story.builder": {
			"targets": [ "desktop", "mobile" ],
			"packageFiles": [
				"mw.ext.wikistories.builder/index.js",
				"mw.ext.wikistories.builder/router.js",
				"mw.ext.wikistories.builder/contributionEvents.js",
				"mw.ext.wikistories.builder/App.vue",
				"mw.ext.wikistories.builder/api/getPageInfo.js",
				"mw.ext.wikistories.builder/api/saveStory.js",
				"mw.ext.wikistories.builder/api/searchImages.js",
				"mw.ext.wikistories.builder/components/Alert.vue",
				"mw.ext.wikistories.builder/components/ConfirmDialog.vue",
				"mw.ext.wikistories.builder/components/CurrentFrame.vue",
				"mw.ext.wikistories.builder/components/AutoHeightTextarea.vue",
				"mw.ext.wikistories.builder/components/DotsMenu.vue",
				"mw.ext.wikistories.builder/components/DotsMenuItem.vue",
				"mw.ext.wikistories.builder/components/Frames.vue",
				"mw.ext.wikistories.builder/components/ListImage.vue",
				"mw.ext.wikistories.builder/components/ImageAttribution.vue",
				"mw.ext.wikistories.builder/components/ImageListView.vue",
				"mw.ext.wikistories.builder/components/Navigator.vue",
				"mw.ext.wikistories.builder/components/PrimaryButton.vue",
				"mw.ext.wikistories.builder/components/Toast.vue",
				"mw.ext.wikistories.builder/plugins/config.js",
				"mw.ext.wikistories.builder/mixins/observer.js",
				"mw.ext.wikistories.builder/store/article.js",
				"mw.ext.wikistories.builder/store/index.js",
				"mw.ext.wikistories.builder/store/search.js",
				"mw.ext.wikistories.builder/store/story.js",
				"mw.ext.wikistories.builder/util/validateTitle.js",
				"mw.ext.wikistories.builder/util/sortableFrames.js",
				"mw.ext.wikistories.builder/util/strip.js",
				"mw.ext.wikistories.builder/util/convertUrlToMobile.js",
				"mw.ext.wikistories.builder/views/Article.vue",
				"mw.ext.wikistories.builder/views/PublishForm.vue",
				"mw.ext.wikistories.builder/views/Search.vue",
				"mw.ext.wikistories.builder/views/Story.vue",
				"lib/vue-router/vue-router.common.js"
			],
			"dependencies": [
				"vue",
				"vuex",
				"mediawiki.Title",
				"mediawiki.api",
				"mediawiki.ForeignApi",
				"mediawiki.util"
			],
			"messages": [
				"wikistories-search-inputplaceholder",
				"wikistories-search-cuetext",
				"wikistories-search-noresultstext",
				"wikistories-search-navigator-title",
				"wikistories-search-navigator-title-selected-info",
				"wikistories-story-goto-publish",
				"wikistories-story-selecttext",
				"wikistories-story-editdone",
				"wikistories-story-replaceimage",
				"wikistories-story-deleteframe",
				"wikistories-story-navigator-title",
				"wikistories-imageattribution-author-unknown",
				"wikistories-article-navigator-title",
				"wikistories-article-cancelselection",
				"wikistories-article-loading",
				"wikistories-article-usetext",
				"wikistories-article-info-banner",
				"wikistories-article-info-expanded-banner",
				"wikistories-alert-okbuttontext",
				"wikistories-confirmdialog-delete-title",
				"wikistories-confirmdialog-delete-message",
				"wikistories-confirmdialog-delete-accept",
				"wikistories-confirmdialog-delete-cancel",
				"wikistories-confirmdialog-discardstory-title",
				"wikistories-confirmdialog-discardstory-message",
				"wikistories-confirmdialog-discardstory-accept",
				"wikistories-toast-maxframes-addingmore",
				"wikistories-toast-maxframes-selecting",
				"wikistories-error-notenoughframes-title",
				"wikistories-error-notenoughframes-message",
				"wikistories-error-frameswithouttext-title",
				"wikistories-error-frameswithouttext-message",
				"wikistories-builder-publishform-navigator-title",
				"wikistories-builder-publishform-placeholder",
				"wikistories-builder-publishform-publishbutton",
				"wikistories-builder-publishform-info",
				"wikistories-builder-publishform-invalidtitle-empty",
				"wikistories-builder-publishform-invalidtitle-format",
				"wikistories-builder-publishform-invalidtitle-duplicate",
				"wikistories-builder-publishform-saveerror",
				"wikistories-builder-licensing-with-terms"
			]
		},
		"mw.ext.story.discover": {
			"targets": [ "mobile" ],
			"dependencies": [ "mediawiki.api", "mediawiki.Title", "mediawiki.util" ],
			"packageFiles": [
				"mw.ext.wikistories.discover/index.js",
				"mw.ext.wikistories.discover/consumptionEvents.js",
				"mw.ext.wikistories.discover/Discover.js",
				"mw.ext.wikistories.discover/api/getStories.js",
				"mw.ext.wikistories.discover/util/convertUrlToThumbnail.js"
			],
			"styles": [
				"mw.ext.wikistories.discover/discover.less"
			],
			"messages": [
				"wikistories-discover-cta-text"
			]
		}
	},
	"RestRoutes": [
		{
			"path": "/wikistories/v0/page/{title}/stories",
			"method": "GET",
			"class": "MediaWiki\\Extension\\Wikistories\\RelatedStoriesRestRoutes",
			"services": [
				"TitleFormatter",
				"TitleParser",
				"PageStore",
				"Wikistories.Cache"
			]
		}
	],
	"manifest_version": 2
}
