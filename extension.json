{
	"name": "Wikistories",
	"namemsg": "wikistories-extensionname",
	"descriptionmsg": "wikistories-extensiondesc",
	"requires": {
		"MediaWiki": ">= 1.31.0"
	},
	"AutoloadNamespaces": {
		"MediaWiki\\Extension\\Wikistories\\": "includes/"
	},
	"ContentHandlers": {
		"story": "MediaWiki\\Extension\\Wikistories\\StoryContentHandler"
	},
	"SpecialPages": {
		"CreateStory": "MediaWiki\\Extension\\Wikistories\\SpecialCreateStory"
	},
	"Hooks": {
		"BeforePageDisplayMobile": "MediaWiki\\Extension\\Wikistories\\Hooks::onBeforePageDisplayMobile"
	},
	"ServiceWiringFiles": [
		"includes/ServiceWiring.php"
	],
	"ExtensionMessagesFiles": {
		"WikistoriesAliasSpecial": "Wikistories.alias.special.php"
	},
	"MessagesDirs": {
		"Wikistories": [ "i18n", "i18n/api" ]
	},
	"namespaces": [
		{
			"id": 1704,
			"constant": "NS_STORY",
			"name": "Story",
			"content": true,
			"defaultcontentmodel": "story"
		},
		{
			"id": 1705,
			"constant": "NS_STORY_TALK",
			"name": "StoryTalk",
			"content": true,
			"defaultcontentmodel": "wikitext"
		}
	],
	"ResourceFileModulePaths": {
		"localBasePath": "resources",
		"remoteExtPath": "Wikistories/resources"
	},
	"ResourceModules": {
		"mw.ext.story.viewer-nojs": {
			"styles": [
				"mw.ext.wikistories.viewer-nojs/viewer-nojs.less"
			]
		},
		"mw.ext.story.viewer": {
			"targets": [ "desktop", "mobile" ],
			"packageFiles": [
				"mw.ext.wikistories.viewer/index.js",
				"mw.ext.wikistories.viewer/StoryViewer.vue"
			],
			"styles": [
				"mw.ext.wikistories.viewer/viewer.less"
			],
			"dependencies": [ "vue" ]
		},
		"mw.ext.story.builder.styles": {
			"targets": [ "desktop", "mobile" ],
			"styles": [
				"mw.ext.wikistories.builder/builder.less"
			],
			"skinStyles": {
				"minerva": [
					"mw.ext.wikistories.builder/builder.minerva.less"
				]
			}
		},
		"mw.ext.story.builder": {
			"targets": [ "desktop", "mobile" ],
			"packageFiles": [
				"mw.ext.wikistories.builder/index.js",
				"mw.ext.wikistories.builder/router.js",
				"mw.ext.wikistories.builder/App.vue",
				"mw.ext.wikistories.builder/components/Article.vue",
				"mw.ext.wikistories.builder/components/CurrentFrame.vue",
				"mw.ext.wikistories.builder/components/Frames.vue",
				"mw.ext.wikistories.builder/components/ImageAttribution.vue",
				"mw.ext.wikistories.builder/components/ImageListView.vue",
				"mw.ext.wikistories.builder/components/Navigator.vue",
				"mw.ext.wikistories.builder/components/PrimaryButton.vue",
				"mw.ext.wikistories.builder/store/article.js",
				"mw.ext.wikistories.builder/store/index.js",
				"mw.ext.wikistories.builder/store/search.js",
				"mw.ext.wikistories.builder/store/story.js",
				"mw.ext.wikistories.builder/views/Search.vue",
				"mw.ext.wikistories.builder/views/Story.vue",
				"lib/vue-router/vue-router.common.js"
			],
			"dependencies": [ "vue", "vuex", "mediawiki.ForeignApi" ],
			"messages": [
				"wikistories-imagesearch-inputlabel",
				"wikistories-story-goto-publish",
				"wikistories-story-edittext",
				"wikistories-imageattribution-author-unknown",
				"wikistories-article-cancelselection",
				"wikistories-article-loading",
				"wikistories-article-usetext",
				"wikistories-article-info-banner",
				"wikistories-article-info-expanded-banner",
				"wikistories-navigator-next"
			]
		},
		"mw.ext.story.discover": {
			"targets": [ "mobile" ],
			"packageFiles": [
				"mw.ext.wikistories.discover/index.js",
				"mw.ext.wikistories.discover/Discover.js"
			],
			"styles": [
				"mw.ext.wikistories.discover/discover.less"
			],
			"messages": [
				"wikistories-discover-cta-text"
			]
		}
	},
	"RestRoutes": [
		{
			"path": "/wikistories/v0/page/{title}/stories",
			"method": "GET",
			"class": "MediaWiki\\Extension\\Wikistories\\RelatedStoriesRestRoutes",
			"services": [
				"TitleFormatter",
				"TitleParser",
				"PageStore",
				"Wikistories.Cache"
			]
		}
	],
	"manifest_version": 2
}
